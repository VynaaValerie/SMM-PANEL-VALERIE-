const _0x629fdf=_0x3c0e;(function(_0x15002f,_0x12c156){const _0xfecb96=_0x3c0e,_0x339fcb=_0x15002f();while(!![]){try{const _0xd0dc8=parseInt(_0xfecb96(0x171))/0x1+-parseInt(_0xfecb96(0x15f))/0x2*(parseInt(_0xfecb96(0x152))/0x3)+parseInt(_0xfecb96(0x164))/0x4*(-parseInt(_0xfecb96(0x166))/0x5)+parseInt(_0xfecb96(0x17a))/0x6+-parseInt(_0xfecb96(0x14b))/0x7+parseInt(_0xfecb96(0x163))/0x8+parseInt(_0xfecb96(0x15d))/0x9*(-parseInt(_0xfecb96(0x183))/0xa);if(_0xd0dc8===_0x12c156)break;else _0x339fcb['push'](_0x339fcb['shift']());}catch(_0xd6ee48){_0x339fcb['push'](_0x339fcb['shift']());}}}(_0x1dce,0x59a6f));const _0x2a5139=(function(){let _0x2aac73=!![];return function(_0x4a3afd,_0x18abb8){const _0x4377e2=_0x2aac73?function(){const _0x339bfa=_0x3c0e;if(_0x18abb8){const _0x5d7c9e=_0x18abb8[_0x339bfa(0x162)](_0x4a3afd,arguments);return _0x18abb8=null,_0x5d7c9e;}}:function(){};return _0x2aac73=![],_0x4377e2;};}()),_0x75bfa4=_0x2a5139(this,function(){const _0x65e146=_0x3c0e;return _0x75bfa4[_0x65e146(0x15a)]()[_0x65e146(0x17e)](_0x65e146(0x158))[_0x65e146(0x15a)]()[_0x65e146(0x153)](_0x75bfa4)[_0x65e146(0x17e)](_0x65e146(0x158));});_0x75bfa4();function _0x1dce(){const _0x36edd3=['merchantID','order-','2811DIofWO','constructor','Success','data','log','Terjadi\x20kesalahan\x20saat\x20memeriksa\x20status\x20pembayaran.\x20Coba\x20lagi\x20nanti.','(((.+)+)+)+$','sendMessage','toString','&nominal=','command','7854696mnrFoj','info','334bjuaeL','sender','\x0a\x0a*Saldo\x20Anda\x20sekarang:\x20Rp','apply','5730904UTUlur','2776nifaew','payment','1435mBIJyp','https://api.tokopay.id/v1/order?merchant=','\x20untuk\x20transaksi\x20','‚ùå\x20Gagal\x20memeriksa\x20status\x20pembayaran:\x20','Payment\x20Status\x20Error\x20for\x20transaction\x20','API\x20Error:','saldo','&ref_id=','Pembayaran\x20masih\x20pending\x20untuk\x20transaksi\x20','Unpaid','status','429104TIhMCB','chat','users','‚úÖ\x20Pembayaran\x20berhasil,\x20Saldo\x20Anda\x20ditambahkan\x20sebesar\x20Rp','pending','{}.constructor(\x22return\x20this\x22)(\x20)','console','‚úÖ\x20Pembayaran\x20sukses\x20sebesar\x20Rp','‚ùå\x20Gagal\x20memeriksa\x20status\x20pembayaran:\x20Data\x20tidak\x20ditemukan','4171122LKuUiy','table','tags','prototype','search','*\x0aketik\x20*.dompet*\x20untuk\x20melihat\x20saldo\x20anda\x0aketik\x20*.layanan*\x20untuk\x20melihat\x20produk\x20tersedia','\x0a\x0aSilakan\x20scan\x20QR\x20code\x20untuk\x20membayar.','random','error_msg','10CQxjhH','bind','qris\x20<jumlah>','warn','&secret=','Silakan\x20masukkan\x20jumlah\x20pembayaran\x20yang\x20valid\x20(minimal\x20100)','json','Response\x20from\x20payment\x20status:','&metode=','Error\x20tidak\x20diketahui','message','register','help','private','floor','Terjadi\x20kesalahan\x20saat\x20membuat\x20QR\x20code\x20pembayaran.','1715266btuidp','Gagal\x20memverifikasi\x20pembayaran.\x20Silakan\x20coba\x20lagi\x20nanti.','reply','tokopay','length'];_0x1dce=function(){return _0x36edd3;};return _0x1dce();}const _0x28bafb=(function(){let _0x26366d=!![];return function(_0x3f51b5,_0x57074e){const _0x3f3372=_0x26366d?function(){const _0x2a6fd1=_0x3c0e;if(_0x57074e){const _0x342a19=_0x57074e[_0x2a6fd1(0x162)](_0x3f51b5,arguments);return _0x57074e=null,_0x342a19;}}:function(){};return _0x26366d=![],_0x3f3372;};}()),_0x5991f6=_0x28bafb(this,function(){const _0x1ea79f=_0x3c0e;let _0x499e19;try{const _0x5dcfd2=Function('return\x20(function()\x20'+_0x1ea79f(0x176)+');');_0x499e19=_0x5dcfd2();}catch(_0x2ff3b1){_0x499e19=window;}const _0x543519=_0x499e19[_0x1ea79f(0x177)]=_0x499e19[_0x1ea79f(0x177)]||{},_0x5a2dbb=[_0x1ea79f(0x156),_0x1ea79f(0x186),_0x1ea79f(0x15e),'error','exception',_0x1ea79f(0x17b),'trace'];for(let _0x1b4fae=0x0;_0x1b4fae<_0x5a2dbb[_0x1ea79f(0x14f)];_0x1b4fae++){const _0x185216=_0x28bafb[_0x1ea79f(0x153)][_0x1ea79f(0x17d)][_0x1ea79f(0x184)](_0x28bafb),_0x26359b=_0x5a2dbb[_0x1b4fae],_0x587177=_0x543519[_0x26359b]||_0x185216;_0x185216['__proto__']=_0x28bafb[_0x1ea79f(0x184)](_0x28bafb),_0x185216[_0x1ea79f(0x15a)]=_0x587177['toString']['bind'](_0x587177),_0x543519[_0x26359b]=_0x185216;}});_0x5991f6();function _0x3c0e(_0xf23a0,_0x11532a){const _0xd48338=_0x1dce();return _0x3c0e=function(_0x5991f6,_0x28bafb){_0x5991f6=_0x5991f6-0x142;let _0x16ae9b=_0xd48338[_0x5991f6];return _0x16ae9b;},_0x3c0e(_0xf23a0,_0x11532a);}import _0x4abfcd from'node-fetch';const checkPaymentStatus=async(_0x1b8307,_0x1a96ab,_0x2eb442,_0x2824dc,_0x441370,_0x4af255,_0x274a7e,_0x4fc7f3)=>{const _0x21b598=_0x3c0e,_0x2f1e82=_0x21b598(0x167)+_0x1a96ab+'&secret='+_0x2eb442+_0x21b598(0x16d)+_0x1b8307+'&nominal='+_0x2824dc+_0x21b598(0x143)+_0x441370;let _0x22d184=![],_0x27138f=0xa,_0x222ca2=0x0,_0x52932b=setInterval(async()=>{const _0x14be0d=_0x21b598;if(_0x22d184||_0x222ca2>=_0x27138f)return clearInterval(_0x52932b),_0x4af255[_0x14be0d(0x14d)](_0x274a7e[_0x14be0d(0x172)],_0x14be0d(0x14c),_0x274a7e);_0x222ca2++,_0x22d184=!![];try{let _0x1214a7=await _0x4abfcd(_0x2f1e82),_0x57bf8f=await _0x1214a7[_0x14be0d(0x189)]();console[_0x14be0d(0x156)](_0x14be0d(0x142),_0x57bf8f);if(_0x57bf8f[_0x14be0d(0x170)]==='Success'){if(_0x57bf8f[_0x14be0d(0x155)]&&_0x57bf8f[_0x14be0d(0x155)][_0x14be0d(0x170)]){const _0x10a8ed=_0x57bf8f['data'][_0x14be0d(0x170)];if(_0x10a8ed==='Paid'){clearInterval(_0x52932b),_0x4fc7f3[_0x14be0d(0x16c)]=parseInt(_0x4fc7f3[_0x14be0d(0x16c)])||0x0;let _0x5bc742=parseInt(_0x2824dc);!isNaN(_0x5bc742)&&(_0x4fc7f3[_0x14be0d(0x16c)]+=_0x5bc742);const _0x16dc35=_0x14be0d(0x178)+_0x2824dc+_0x14be0d(0x168)+_0x1b8307+_0x14be0d(0x161)+_0x4fc7f3['saldo']+'*';await _0x4af255[_0x14be0d(0x159)](_0x274a7e[_0x14be0d(0x172)],{'text':_0x16dc35},{'quoted':_0x274a7e});}else{if(_0x10a8ed===_0x14be0d(0x16f))console[_0x14be0d(0x156)](_0x14be0d(0x16e)+_0x1b8307);else{clearInterval(_0x52932b),_0x4fc7f3[_0x14be0d(0x16c)]=parseInt(_0x4fc7f3[_0x14be0d(0x16c)])||0x0;let _0xd026b1=parseInt(_0x2824dc);!isNaN(_0xd026b1)&&(_0x4fc7f3[_0x14be0d(0x16c)]+=_0xd026b1);const _0x4f0a56=_0x14be0d(0x174)+_0x2824dc+'\x0a\x0a*Saldo\x20Anda\x20sekarang:\x20Rp'+_0x4fc7f3[_0x14be0d(0x16c)]+_0x14be0d(0x17f);await _0x4af255['sendMessage'](_0x274a7e[_0x14be0d(0x172)],{'text':_0x4f0a56},{'quoted':_0x274a7e});}}}else clearInterval(_0x52932b),_0x4af255[_0x14be0d(0x14d)](_0x274a7e[_0x14be0d(0x172)],_0x14be0d(0x179),_0x274a7e);}else clearInterval(_0x52932b),_0x4af255[_0x14be0d(0x14d)](_0x274a7e[_0x14be0d(0x172)],_0x14be0d(0x169)+(_0x57bf8f['error_msg']||_0x14be0d(0x144)),_0x274a7e);}catch(_0x5eb96e){console['error'](_0x14be0d(0x16a)+_0x1b8307+':',_0x5eb96e[_0x14be0d(0x145)]),clearInterval(_0x52932b),_0x4af255[_0x14be0d(0x14d)](_0x274a7e[_0x14be0d(0x172)],_0x14be0d(0x157),_0x274a7e);}finally{_0x22d184=![];}},0x2710);},handler=async(_0x2d3fae,{conn:_0x5a00c7,text:_0x57fca8})=>{const _0x1a3741=_0x3c0e;let _0x55c4ee=parseInt(_0x57fca8);if(!_0x55c4ee||isNaN(_0x55c4ee)||_0x55c4ee<0x64)return _0x5a00c7[_0x1a3741(0x14d)](_0x2d3fae[_0x1a3741(0x172)],_0x1a3741(0x188),_0x2d3fae);let _0x43b216=global[_0x1a3741(0x14e)][_0x1a3741(0x150)],_0x4d87a6=global[_0x1a3741(0x14e)]['secretKey'],_0x1686da=_0x1a3741(0x151)+Math[_0x1a3741(0x149)](Math[_0x1a3741(0x181)]()*0xf4240),_0x2ca544='qris',_0x3114c4='https://api.tokopay.id/v1/order?merchant='+_0x43b216+_0x1a3741(0x187)+_0x4d87a6+_0x1a3741(0x16d)+_0x1686da+_0x1a3741(0x15b)+_0x55c4ee+_0x1a3741(0x143)+_0x2ca544;try{let _0x4f4ed3=await _0x4abfcd(_0x3114c4),_0x58d344=await _0x4f4ed3['json']();if(_0x58d344[_0x1a3741(0x170)]===_0x1a3741(0x154)&&_0x58d344[_0x1a3741(0x155)]){let _0x18ccef=_0x58d344['data']['qr_link'],_0x2c210c=global['db']['data'][_0x1a3741(0x173)][_0x2d3fae[_0x1a3741(0x160)]];!_0x2c210c[_0x1a3741(0x16c)]&&(_0x2c210c['saldo']=0x0),_0x2c210c[_0x1a3741(0x165)]={'refID':_0x1686da,'amount':_0x55c4ee,'status':_0x1a3741(0x175),'qrLink':_0x18ccef},await _0x5a00c7['sendMessage'](_0x2d3fae['chat'],{'image':{'url':_0x18ccef},'caption':'üí∞\x20Total\x20Pembayaran:\x20Rp'+_0x55c4ee+_0x1a3741(0x180)},{'quoted':_0x2d3fae}),checkPaymentStatus(_0x1686da,_0x43b216,_0x4d87a6,_0x55c4ee,_0x2ca544,_0x5a00c7,_0x2d3fae,_0x2c210c);}else _0x5a00c7[_0x1a3741(0x14d)](_0x2d3fae[_0x1a3741(0x172)],'Gagal\x20membuat\x20pembayaran:\x20'+(_0x58d344[_0x1a3741(0x182)]||'Error\x20tidak\x20diketahui'),_0x2d3fae);}catch(_0x7b45ba){console['error'](_0x1a3741(0x16b),_0x7b45ba),_0x5a00c7[_0x1a3741(0x14d)](_0x2d3fae[_0x1a3741(0x172)],_0x1a3741(0x14a),_0x2d3fae);}};handler[_0x629fdf(0x147)]=[_0x629fdf(0x185)],handler[_0x629fdf(0x17c)]=[_0x629fdf(0x165)],handler[_0x629fdf(0x15c)]=/^(qris)$/i,handler[_0x629fdf(0x146)]=!![],handler[_0x629fdf(0x148)]=!![];export default handler;